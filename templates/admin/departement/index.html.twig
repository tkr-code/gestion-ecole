{% import "macros/dataTable.html.twig" as dataTable %}
{% import "macros/links.html.twig" as links %}
{% import "macros/alertes.html.twig" as alertes %}
{% extends 'admin/base.html.twig' %}

{% block head %}
    {{ dataTable.css() }}
{% endblock %}

{% block foot %}
    {{ dataTable.js() }}
{% endblock %}

{% block javascripts %}
    {{ dataTable.script("#table-1") }}
{% endblock %}

{% block title %}
    Departements
        
    
{% endblock %}

{% block body %}
{% for message in app.flashes('success') %}
    {{alertes.alert(message,'success')}}
{% endfor %}
    <div class="card card-outline card-primary">
        <div class="card-header">
            <h3>
                Departement
                            
            </h3>
        </div>

        <div class="card-body">
            <div class="row mb-3">
                <div class="col">
                    {{ links.new(path('admin_departement_new')) }}
                </div>
            </div>
            <table class="table" id="table-1">
                <thead>
                    <tr>
                        <th>
                            Code
                                                    
                        </th>
                        <th>
                            Designation
                                                    
                        </th>
                        <th>
                            Created_at
                                                    
                        </th>
                        <th>
                            actions
                                                    
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for departement in departements %}
                        <tr>
                            <td>
                                {{ departement.code }}
                            </td>
                            <td>
                                {{ departement.designation }}
                            </td>
                            <td>
                                {{ departement.createdAt ? departement.createdAt|date_format_fr : '' }}
                            </td>
                            <td>
                                <div class="btn-group">
                                    {{ links.show(path('admin_departement_show', {'id': departement.id})) }}
                                    {{ links.edit(path('admin_departement_edit', {'id': departement.id})) }}
                                </div>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5">
                                no records found
                                                            
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}
